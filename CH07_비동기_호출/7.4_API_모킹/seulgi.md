# API 모킹

프론트 개발을 하다보면 서버 API가 완성되기 전에 개발을 진행해야 할 일이 있을 때
모킹이라는 방법을 활용할 수 있다. 모킹은 가짜 모듈을 활용하는 것을 말한다.

모킹하는 방법은 간단히 아래와 같은 방법이 있다.

1. JSON 파일 불러오기
2. NextApiHandler 활용하기
3. API 요청 핸들러에 분기 추가하기
4. axios-mock-adapter로 모킹하기
5. MSW와 같은 서비스워커 활용하기

<br />
<br />

## 목업 사용 여부 제어하기

로컬에서는 목업을 사용하고 dev나 운영 환경에서는 사용하지 않으려면
간단한 설정을 해주면 되는데 플래그를 사용해 목업으로 개발할 때와 하지 않을 때를 구분한다.

혹은, 스크립트 실행 시 구분 짓고자 한다면 package.json에 관련 스크립트를 추가해줄 수 있다.

이렇게 자바스크립트 코드의 실행 여부를 제어하지 않고,
config 파일을 별도로 구성하거나 프록시를 사용할 수 있다.

목업을 사용할 때 네트워크 요청을 확인하고 싶을 때는 네트워크에 보낸 요청을 변경해주는
Cypress같은 도구의 웹훅을 사용하면 된다.

> **Cypress?**<br />
> 프론트엔드 테스트를 위한 오픈 소스 자바스크립트 엔드 투 엔드 테스트 도구다.<br />
> 주로 웹 애플리케이션의 동작을 시뮬레이션하고 테스트하는 데 사용된다.

<br />
<br />
